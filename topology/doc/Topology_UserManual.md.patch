--- Topology_UserManual-patched.md
+++ Topology_UserManual-patched.md
@@ -431,7 +431,7 @@
 ![Simple grid-based layer centered about the origin. Blue circles mark
 layer elements, the thin square the extent of the layer. Row and column
 indices are shown in the right and top margins,
-respectively.[]{label="fig:layer1"}](layer1){#fig:layer1
+respectively.[]{label="fig:layer1"}](user_manual_figures/layer1.png){#fig:layer1
 width="0.5\linewidth"}
 
 The layer is shown in
@@ -838,7 +838,7 @@
 ![Same layer as in
 Fig. [\[fig:layer1\]](#fig:layer1){reference-type="ref"
 reference="fig:layer1"}, but with different
-extent.[]{label="fig:layer2"}](layer2){#fig:layer2
+extent.[]{label="fig:layer2"}](user_manual_figures/layer2.png){#fig:layer2
 width="0.8\linewidth"}
 
 The resulting layer is shown in
@@ -1211,7 +1211,7 @@
 
 ![Three layers centered, respectively, about $(0,0)$ (blue), $(-1,-1)$
 (green), and $(1.5,0.5)$
-(red).[]{label="fig:layer3"}](layer3){#fig:layer3 width="0.8\linewidth"}
+(red).[]{label="fig:layer3"}](user_manual_figures/layer3.png){#fig:layer3 width="0.8\linewidth"}
 
 The center is given as a two-element tuple of floats. Changing the
 center does not affect grid indices: For each of the three layers in
@@ -1602,7 +1602,7 @@
 ![Layer with $n_c=5$ rows and $n_r=3$ columns, spacing $d=0.1$ and the
 left edge of the extent at $x=0$, centered about the $y$-axis. The cross
 marks the point on the extent placed at the origin $(0,0)$, the circle
-the center of the layer.[]{label="fig:layer3a"}](layer3a){#fig:layer3a
+the center of the layer.[]{label="fig:layer3a"}](user_manual_figures/layer3a.png){#fig:layer3a
 width="0.5\linewidth"}
 
 Free layers {#sec:freelayer}
@@ -1965,7 +1965,7 @@
 ```
 
 ![A free layer with 50 elements uniformly distributed in an extent of
-size $1\times 1$.[]{label="fig:layer4"}](layer4){#fig:layer4
+size $1\times 1$.[]{label="fig:layer4"}](user_manual_figures/layer4.png){#fig:layer4
 width="0.5\linewidth"}
 
 Note the following points:
@@ -2350,7 +2350,7 @@
 ```
 
 ![A free 3D layer with 200 elements uniformly distributed in an extent
-of size $1\times 1\times 1$.](layer4_3d){width="0.5\linewidth"}
+of size $1\times 1\times 1$.](user_manual_figures/layer4_3d.png){width="0.5\linewidth"}
 
 [\[fig:layer4\_3d\]]{#fig:layer4_3d label="fig:layer4_3d"}
 
@@ -2736,7 +2736,7 @@
 conditions. Note that the element at $(2,0)$ now is a nearest neighbor
 to the element at $(-2,0)$. Right: Layer with periodic boundary
 condition arranged on a circle to illustrate neighborhood
-relationships.[]{label="fig:player"}](player){#fig:player
+relationships.[]{label="fig:player"}](user_manual_figures/player.png){#fig:player
 width="0.8\linewidth"}
 
 Note that the longest possible distance between two elements in a layer
@@ -6123,7 +6123,7 @@
 now has 15 targets, too, but they are spread across the corners of the
 layer. If we wrapped the layer to a torus, they would form a $5\times 3$
 rectangle centered on the node at
-$(4,5)$.[]{label="fig:conn1"}](conn1){#fig:conn1 width="0.9\linewidth"}
+$(4,5)$.[]{label="fig:conn1"}](user_manual_figures/conn1.png){#fig:conn1 width="0.9\linewidth"}
 
 In this example, layer `l` is both source and target layer. Connection
 type is divergent, i.e., for each node in the layer we choose targets
@@ -8788,7 +8788,7 @@
 a wide light-red circle, the selected pool nodes by red dots and the
 masks by red lines. From left to right, top to bottom: rectangular,
 circular, doughnut and elliptical masks centered about the driver
-node.](conn2_a){width="0.9\linewidth"}
+node.](user_manual_figures/conn2.png){width="0.9\linewidth"}
 
 [\[fig:conn2\_a\]]{#fig:conn2_a label="fig:conn2_a"}
 
@@ -11384,7 +11384,7 @@
 Fig. [\[fig:conn2\_a\]](#fig:conn2_a){reference-type="ref"
 reference="fig:conn2_a"}, but centered about $(-1.5,-1.5)$, $(-2,0)$,
 $(1.5,1.5)$ and $(2, -1)$, respectively, using the `'anchor'`
-parameter.](conn2_b){width="0.9\linewidth"}
+parameter.](user_manual_figures/conn2.png){width="0.9\linewidth"}
 
 [\[fig:conn2\_b\]]{#fig:conn2_b label="fig:conn2_b"}
 
@@ -12692,7 +12692,7 @@
 Fig. [\[fig:conn2\_b\]](#fig:conn2_b){reference-type="ref"
 reference="fig:conn2_b"}, where the rectangle mask is rotated
 $120^\circ$ and the elliptical mask is rotated
-$45^\circ$.](conn2_c){width="0.9\linewidth"}
+$45^\circ$.](user_manual_figures/conn2.png){width="0.9\linewidth"}
 
 [\[fig:conn2\_c\]]{#fig:conn2_c label="fig:conn2_c"}
 
@@ -14668,7 +14668,7 @@
 ![Masks for 3D layers. For all mask types, the driver node is marked by
 a wide light-red circle, the selected pool nodes by red dots and the
 masks by red lines. From left to right: box and spherical masks centered
-about the driver node.](conn_3d){width="0.9\linewidth"}
+about the driver node.](user_manual_figures/conn_3d.png){width="0.9\linewidth"}
 
 [\[fig:conn\_3d\]]{#fig:conn_3d label="fig:conn_3d"}
 
@@ -16631,7 +16631,7 @@
 $5\times 3$ mask with default alignment at upper left corner. Center:
 Same mask, but anchored to center node at grid index $[1,2]$. Right:
 Same mask, but anchor to the upper left of the mask at grid index
-$[-1,2]$.[]{label="fig:conn3"}](conn3){#fig:conn3 width="0.9\linewidth"}
+$[-1,2]$.[]{label="fig:conn3"}](user_manual_figures/conn3.png){#fig:conn3 width="0.9\linewidth"}
 
 Connections specified using grid masks are generated more efficiently
 than connections specified using other mask types.
@@ -16697,7 +16697,7 @@
 |   |             | o |
 |   |             | n |
 +:==+:============+:==+
-| \ |             | c |
+|   |             | c |
 | r |             | o |
 | o |             | n |
 | w |             | s |
@@ -16707,7 +16707,7 @@
 | o |             | t |
 | r |             | $ |
 | { |             | p |
-| l |             | \ |
+| l |             |   |
 | s |             | i |
 | t |             | n |
 | c |             | [ |
@@ -16744,7 +16744,7 @@
 |   |             | $ |
 |   |             | $ |
 +---+-------------+---+
-| \ | `a`, `c`,   | $ |
+|   | `a`, `c`,   | $ |
 | r | `tau`       | $ |
 | o |             | p |
 | w |             | ( |
@@ -16763,7 +16763,7 @@
 | o |             | ^ |
 | r |             | { |
 | } |             | - |
-| ` |             | \ |
+| ` |             |   |
 | e |             | f |
 | x |             | r |
 | p |             | a |
@@ -16772,7 +16772,7 @@
 | e |             | d |
 | n |             | } |
 | t |             | { |
-| i |             | \ |
+| i |             |   |
 | a |             | t |
 | l |             | a |
 | ` |             | u |
@@ -16797,7 +16797,7 @@
 |   |             | p |
 |   |             | _ |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | t |
 |   |             | e |
 |   |             | x |
@@ -16817,7 +16817,7 @@
 |   |             | ^ |
 |   |             | { |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -16826,7 +16826,7 @@
 |   |             | ( |
 |   |             | d |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | ) |
@@ -16835,7 +16835,7 @@
 |   |             | } |
 |   |             | { |
 |   |             | 2 |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -16848,7 +16848,7 @@
 |   |             | $ |
 |   |             | $ |
 +---+-------------+---+
-| \ | `p_center`, | $ |
+|   | `p_center`, | $ |
 | r | `sigma_x`,  | $ |
 | o | `sigma_y`,  | p |
 | w | `mean_x`,   | ( |
@@ -16864,7 +16864,7 @@
 | c |             | p |
 | o |             | _ |
 | l |             | { |
-| o |             | \ |
+| o |             |   |
 | r |             | t |
 | } |             | e |
 | ` |             | x |
@@ -16882,13 +16882,13 @@
 |   |             | ^ |
 |   |             | { |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
 |   |             | c |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -16899,7 +16899,7 @@
 |   |             | _ |
 |   |             | x |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | _ |
@@ -16909,7 +16909,7 @@
 |   |             | 2 |
 |   |             | } |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -16921,7 +16921,7 @@
 |   |             | 2 |
 |   |             | } |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -16932,7 +16932,7 @@
 |   |             | _ |
 |   |             | y |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | _ |
@@ -16942,7 +16942,7 @@
 |   |             | 2 |
 |   |             | } |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -16965,11 +16965,11 @@
 |   |             |   |
 |   |             | + |
 |   |             | 2 |
-|   |             | \ |
+|   |             |   |
 |   |             | r |
 |   |             | h |
 |   |             | o |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -16980,7 +16980,7 @@
 |   |             | _ |
 |   |             | x |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | _ |
@@ -16991,7 +16991,7 @@
 |   |             | _ |
 |   |             | y |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | _ |
@@ -16999,7 +16999,7 @@
 |   |             | ) |
 |   |             | } |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -17007,7 +17007,7 @@
 |   |             | a |
 |   |             | _ |
 |   |             | x |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -17022,7 +17022,7 @@
 |   |             | ( |
 |   |             | 1 |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | r |
 |   |             | h |
 |   |             | o |
@@ -17043,7 +17043,7 @@
 | ` |             |   |
 |   |             | = |
 |   |             |   |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -17052,7 +17052,7 @@
 |   |             | d |
 |   |             | ^ |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | k |
 |   |             | a |
 |   |             | p |
@@ -17065,7 +17065,7 @@
 |   |             | ^ |
 |   |             | { |
 |   |             | - |
-|   |             | \ |
+|   |             |   |
 |   |             | f |
 |   |             | r |
 |   |             | a |
@@ -17074,7 +17074,7 @@
 |   |             | d |
 |   |             | } |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | t |
 |   |             | h |
 |   |             | e |
@@ -17084,27 +17084,27 @@
 |   |             | } |
 |   |             | } |
 |   |             | { |
-|   |             | \ |
+|   |             |   |
 |   |             | t |
 |   |             | h |
 |   |             | e |
 |   |             | t |
 |   |             | a |
 |   |             | ^ |
-|   |             | \ |
+|   |             |   |
 |   |             | k |
 |   |             | a |
 |   |             | p |
 |   |             | p |
 |   |             | a |
-|   |             | \ |
+|   |             |   |
 |   |             | G |
 |   |             | a |
 |   |             | m |
 |   |             | m |
 |   |             | a |
 |   |             | ( |
-|   |             | \ |
+|   |             |   |
 |   |             | k |
 |   |             | a |
 |   |             | p |
@@ -17117,11 +17117,11 @@
 +---+-------------+---+
 | ` | `min`,      | $ |
 | u | `max`       | p |
-| n |             | \ |
+| n |             |   |
 | i |             | i |
 | f |             | n |
 | o |             | [ |
-| r |             | \ |
+| r |             |   |
 | m |             | t |
 | ` |             | e |
 |   |             | x |
@@ -17132,7 +17132,7 @@
 |   |             | n |
 |   |             | } |
 |   |             | , |
-|   |             | \ |
+|   |             |   |
 |   |             | t |
 |   |             | e |
 |   |             | x |
@@ -17154,15 +17154,15 @@
 |   |             | l |
 |   |             | y |
 +---+-------------+---+
-| \ | `mean`,     | $ |
+|   | `mean`,     | $ |
 | r | `sigma`,    | p |
 | o | `min`,      |   |
-| w | `max`       | \ |
+| w | `max`       |   |
 | c |             | i |
 | o |             | n |
 | l |             |   |
 | o |             | [ |
-| r |             | \ |
+| r |             |   |
 | { |             | t |
 | l |             | e |
 | s |             | x |
@@ -17173,7 +17173,7 @@
 | o |             | n |
 | r |             | } |
 | } |             | , |
-| ` |             | \ |
+| ` |             |   |
 | n |             | t |
 | o |             | e |
 | r |             | x |
@@ -17208,7 +17208,7 @@
 |   |             | n |
 |   |             | d |
 |   |             | $ |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -17219,12 +17219,12 @@
 | ` | `mu`,       | $ |
 | l | `sigma`,    | p |
 | o | `min`,      |   |
-| g | `max`       | \ |
+| g | `max`       |   |
 | n |             | i |
 | o |             | n |
 | r |             |   |
 | m |             | [ |
-| a |             | \ |
+| a |             |   |
 | l |             | t |
 | ` |             | e |
 |   |             | x |
@@ -17235,7 +17235,7 @@
 |   |             | n |
 |   |             | } |
 |   |             | , |
-|   |             | \ |
+|   |             |   |
 |   |             | t |
 |   |             | e |
 |   |             | x |
@@ -17266,7 +17266,7 @@
 |   |             | e |
 |   |             | n |
 |   |             | $ |
-|   |             | \ |
+|   |             |   |
 |   |             | m |
 |   |             | u |
 |   |             | $ |
@@ -17274,7 +17274,7 @@
 |   |             | n |
 |   |             | d |
 |   |             | $ |
-|   |             | \ |
+|   |             |   |
 |   |             | s |
 |   |             | i |
 |   |             | g |
@@ -17294,7 +17294,7 @@
 $2\sigma$, $3\sigma$. Top right: Same Gaussian kernel anchored at
 $(1.5,1.5)$. Bottom left: Same Gaussian kernel, but all $p<0.5$ treated
 as $p=0$. Bottom center:
-2D-Gaussian.[]{label="fig:conn4"}](conn4){#fig:conn4
+2D-Gaussian.[]{label="fig:conn4"}](user_manual_figures/conn4.png){#fig:conn4
 width="0.9\linewidth"}
 
 Several examples follow. They are illustrated in
@@ -23862,7 +23862,7 @@
     randomized with uniform distribution.
 
 ![Distance-dependent and randomized weights and delays. See text for
-details.[]{label="fig:conn5"}](conn5){#fig:conn5 width="0.9\linewidth"}
+details.[]{label="fig:conn5"}](user_manual_figures/conn5.png){#fig:conn5 width="0.9\linewidth"}
 
 Periodic boundary conditions {#sec:conn_pbc}
 ----------------------------
@@ -24596,7 +24596,7 @@
 connection probability decaying linearly from 1 to 0 at $d=0.5$. The red
 line is the expected distribution from
 Eq. [\[eq:ptheo\]](#eq:ptheo){reference-type="ref"
-reference="eq:ptheo"}.[]{label="fig:conn6"}](conn6){#fig:conn6
+reference="eq:ptheo"}.[]{label="fig:conn6"}](user_manual_figures/conn6.png){#fig:conn6
 width="0.5\linewidth"}
 
 Functions determining weight and delay as function of
@@ -27983,7 +27983,7 @@
 center neuron (marked by large light-red circle). The large red circle
 is the mask, the dashed green lines mark $\sigma$, $2\sigma$ and
 $3\sigma$ of the Gaussian
-kernel.[]{label="fig:vislayer"}](vislayer){#fig:vislayer
+kernel.[]{label="fig:vislayer"}](user_manual_figures/vislayer.png){#fig:vislayer
 width="0.7\linewidth"}
 
 The following code shows a practical example: A $21\times21$ network
@@ -28446,7 +28446,7 @@
 The class contains a constructor, which reads the value of the
 parameters $a$, $b$ and $c$ from the dictionary provided by the user.
 The function `updateValue` will do nothing if the given key is not in
-the dictionary, and the default values $a=b=1,\ c=0$ will be used.
+the dictionary, and the default values $a=b=1,  c=0$ will be used.
 
 The overridden method `raw_value()` will return the actual value of the
 kernel function for the displacement given as the first argument, which
@@ -28690,7 +28690,6 @@
 \bibliographystyle{plainnat}
 \listoffigures 
 \listoftables  
-\printindex
 
 [^1]: NEST is available under an open source license at
     [www.nest-simulator.org](www.nest-simulator.org).
